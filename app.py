python

import streamlit as st
import json
import random
from docx import Document

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
st.set_page_config(page_title="NeuroExpert Web", page_icon="üß†")

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–≤–æ–µ–π –º–∞—Ç—Ä–∏—Ü—ã
@st.cache_data
def load_data():
    with open('expert_matrix.json', 'r', encoding='utf-8') as f:
        return json.load(f)

matrix = load_data()

# –®–ê–ü–ö–ê
st.title("üß† –°–∏—Å—Ç–µ–º–∞ —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ –∫–æ–Ω–Ω–µ–∫—Ç–æ–º–∞")
st.markdown("---")

# –õ–ï–í–ê–Ø –ü–ê–ù–ï–õ–¨ (–ü–∞—Å–ø–æ—Ä—Ç)
with st.sidebar:
    st.header("–ü–∞—Å–ø–æ—Ä—Ç –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è")
    fio = st.text_input("–§–ò–û –ø–∞—Ü–∏–µ–Ω—Ç–∞", "–ò–≤–∞–Ω–æ–≤ –ò.–ò.")
    age = st.number_input("–í–æ–∑—Ä–∞—Å—Ç", 18, 100, 60)
    gender = st.radio("–ü–æ–ª", ["–ú—É–∂—Å–∫–æ–π", "–ñ–µ–Ω—Å–∫–∏–π"])
    gen_key = '–∞' if gender == "–ñ–µ–Ω—Å–∫–∏–π" else ""
    
    st.markdown("---")
    st.info("–í–µ—Ä—Å–∏—è –¥–≤–∏–∂–∫–∞: v66.3-GOD-MODE")

# –û–°–ù–û–í–ù–û–ô –ë–õ–û–ö: –§–£–ù–ö–¶–ò–ò (–ü–û–õ–ó–£–ù–ö–ò)
st.subheader("1. –û—Ü–µ–Ω–∫–∞ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (0-5 –±–∞–ª–ª–æ–≤)")
cols = st.columns(2)
functions = ["–ù–µ–π—Ä–æ–¥–∏–Ω–∞–º–∏–∫–∞", "–ì–Ω–æ–∑–∏—Å", "–ü—Ä–∞–∫—Å–∏—Å –∫–∏–Ω–µ—Ç.", "–ü—Ä–∞–∫—Å–∏—Å –¥–∏–Ω–∞–º.", "–ü—Ä–∞–∫—Å–∏—Å –∫–æ–Ω—Å—Ç—Ä.", "–†–µ—á—å (–∞—Ñ–∞–∑–∏–∏)", "–†–µ—á—å (–¥–∏–∑–∞—Ä—Ç—Ä–∏–∏)", "–ü–∞–º—è—Ç—å", "–ú—ã—à–ª–µ–Ω–∏–µ", "–í–Ω–∏–º–∞–Ω–∏–µ"]
scores = []

for i, func in enumerate(functions):
    with cols[i % 2]:
        score = st.select_slider(f"{i+1}. {func}", options=[0, 1, 2, 3, 4, 5], value=0)
        scores.append(score)

# –ë–õ–û–ö: –ü–†–û–§–ò–õ–¨ –ò –ù–ê–î–°–¢–†–û–ô–ö–ò
st.markdown("---")
st.subheader("2. –ö–ª–∏–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç")
profile = st.selectbox("–¢–∏–ø –ø—Ä–æ—Ñ–∏–ª—è", ["0*", "1", "2", "3", "4", "5", "7", "8", "9", "9–≥—ç"])

# –í—ã–±–∏—Ä–∞–µ–º –Ω–∞–¥—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ —Ç–≤–æ–µ–≥–æ JSON
adj_options = list(matrix.get("phenomenology_adjustments", {}).keys())
presets = st.multiselect("–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–¥—Å—Ç—Ä–æ–π–∫–∏ (–ê–ø—Ä–∞–∫—Å–∏–∏, –ê—Ñ–∞–∑–∏–∏, –°–µ—Ç–µ–≤—ã–µ —Å–±–æ–∏)", adj_options)

tags_in = st.text_input("–¢–µ–≥–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (–ø–∞, –ø–∏–¥, –∞–ª–∫–æ, –º–∞–Ω–µ—Ä–Ω—ã–π)", "")

# –ö–ù–û–ü–ö–ê –ó–ê–ü–£–°–ö–ê
if st.button("–°–ì–ï–ù–ï–†–ò–†–û–í–ê–¢–¨ –≠–ö–°–ü–ï–†–¢–ù–û–ï –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï"):
    # –¢—É—Ç –±—É–¥–µ—Ç –≤—ã–∑–æ–≤ —Ç–≤–æ–µ–≥–æ –º–µ—Ç–æ–¥–∞ run (—è –µ–≥–æ –≤—Å—Ç—Ä–æ—é –≤ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π app.py)
    st.success("–ó–∞–∫–ª—é—á–µ–Ω–∏–µ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ!")
    st.text_area("–ì–æ—Ç–æ–≤—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª:", "–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è —Ç–≤–æ–π –∞–∂—É—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç –ö—É–¥—Ä—è–≤—Ü–µ–≤–∞...", height=300)
    st.button("–°–∫–∞—á–∞—Ç—å –≤ Word (.docx)")
